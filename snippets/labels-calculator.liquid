<link rel="preload" href="{{ 'calculator.css' | asset_url }}" as="style">
{{ 'calculator.css' | asset_url | stylesheet_tag }}

<style>
select[name="properties[Taille de planche]"] {
    width: 100%;
    padding: 12px 15px;
    font-size: 14px;
    color: #333; /* Dark gray text color for readability */
    background-color: #f7f7f7; /* Light background color for contrast */
    border: 1px solid #ececec;
    border-radius: 5px; /* Rounded corners for a modern look */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    appearance: none; /* Removes default arrow for custom styling */
    cursor: pointer;
    transition: all 0.3s ease-in-out;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg>');
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 16px;
}
select[name="properties[Taille de planche]"]:hover {
    background-color: #e5e5e5; /* Slightly darker background on hover */
    border-color: #2c2761; /* Darker border color on hover */
}
select[name="properties[Taille de planche]"]:focus {
    outline: none;
    border-color: #3d348b; /* Border color on focus */
    box-shadow: 0 0 5px rgba(61, 52, 139, 0.5); /* Focused shadow */
}
select[name="properties[Taille de planche]"] option {
    padding: 10px;
    background-color: #fff; /* White background for options */
    color: #333; /* Text color for options */
}
select[name="properties[Taille de planche]"] {
    padding-right: 40px; /* Space for the custom arrow */
}
</style>

<div style="display:none">
  {% for variant in product.variants %}
    <div var-id="{{ variant.id }}">{{ variant.price | money }}</div>
  {% endfor %}
</div>
<div class="calc">
  <div class="two-column-layout">
    <div class="two-column-item flex-clm">
      <div class="Csize_container">
        <div class="heading_h2">
          <div class="info-container">
            <div class="i-button">!</div>
            <div class="info-box">
              <p>{{ settings.size_info }}</p>
            </div>
            {{ settings.size_heading }}
          </div>
               <div class="size-dropdown upload-label">
                - × - cm
          </div>
        </div>
        <div id="size-options"></div>
        <div id="custom-price-input">
          <input
            type="number"
            value="10"
            class="custom_size_input"
            id="Custom_size1"
            placeholder="{{ settings.height_placeholder }}"
          >
          <span>x</span>
          <input
            type="number"
            value="10"
            class="custom_size_input"
            id="Custom_size2"
            placeholder="{{ settings.width_placeholder }}"
          >
        </div>
        <span id="err_size"></span>
      </div>
      <div class="Clamination_container">
        <div class="heading_h2">
           <div class="info-container">
            <div class="i-button">!</div>
            <div class="info-box">
              <p>{{ settings.lamination_text_hover }}</p>
            </div>
           {{ settings.lamination_text }}
          </div>

          <label class="checkbox-container">
            <input type="checkbox" id="enable_lamination">
            <span class="custom-checkbox"></span>
          </label>
        </div>
      </div>
    
      <div class="Cimage_container" {% if product.metafields.custom.show_upload_logo_field == true %} style="display:none;" {% endif %}>
        <div class="heading_h2">
          <div class="info-container">
            <div class="i-button">!</div>
            <div class="info-box">
              <p>{{ settings.upload_info }}</p>
            </div>
            {{ settings.upload_heading }}
          </div>

          <div class="image-preview-container">
            <img id="image_preview" src="#" alt="Image Preview" class="image-preview" style="display: none;">
          </div>

          <label for="custom_photo" class="upload-label">
            <!--
              <img
                src="https://cdn.shopify.com/s/files/1/0578/4882/3996/files/Pngtree_white_upload_icon_4561436.png?v=1719676011"
                alt="Upload Icon"
                class="upload-icon"
              >
            -->
            {{ settings.upload_label }}
          </label>
          <input
            required
            id="custom_photo"
            type="file"
            name="properties[Custom Image]"
            class="product-form__input"
            style="display:none;"
          >
        </div>
      </div>
      
      <div class="Cnote_container" {% if product.metafields.custom.show_additional_note == true %} style="display:none" {% endif %}>
        <div class="heading_h2" for="additional-text">
          <div class="info-container">
            <div class="i-button">!</div>
            <div class="info-box">
              <p>{{ settings.additional_info }}</p>
            </div>
            {{ settings.additional_info_heading }}
          </div>
        </div>
        <textarea
          placeholder="{{ settings.additional_info_placeholder }}"
          id="additional-text"
          name="properties[Note]"
          rows="4"
        ></textarea>
         <input type="hidden" id="final-size-input" name="properties[{{ settings.size_heading }}]"
        >
      </div>
       <div class="Cnote_container">
    <div class="heading_h2">
      <div class="info-container">
        <div class="i-button">!</div>
        <div class="info-box">
          <p>{{ settings.psize_info_placeholder }}</p>
        </div>
       {{ settings.psize_heading }}
      </div>
    </div>         
    <select  name="properties[Taille de planche]">
    <option value="21x29,7 cm (A4)">21x29,7 cm (A4)</option>
    <option value="11x22 cm (Enveloppe DL)">11x22 cm (Enveloppe DL)</option>
    <option value="10x15 cm">10x15 cm</option>
    <option value="29,7x42 cm (A3)">29,7x42 cm (A3)</option>
    <option value="Sans importance">Sans importance</option>
    <option value="Taille personnalisée">Taille personnalisée</option>
    </select>  
    </div>

      
    </div>
    <div class="two-column-item pad-10">
     <div class="Clamination_container">
      <div class="heading_h2">
        <div class="info-container">
          <div class="i-button">!</div>
          <div class="info-box">
            <p>{{ settings.quantity_info }}</p>
          </div>
          {{ settings.quantity_heading }}
        </div>
      </div>
      <div id="quantity-options"></div>
      <input type="number" id="custom-quantity-input" placeholder="{{ settings.quantity_placeholder }}">
      <span id="custom-quantity-text" style="display:none;">La remise sera appliquée sur la page du panier</span>

    </div>
                   
    </div>
    <div class="two-column-item pad-10 final-price-wrapper">
      <div class="fprice-heading">
        <div class="heading_h2">{{ settings.final_heading }}</div>
      </div>
      <div class="total-big-price">
        <span id="total-big"></span>
      </div>
      <div class="final-size">
        <span class="span-title">{{ settings.size_heading }} :</span>
        <span id="final-size"></span>
      </div>
      <div class="final-qty">
        <span class="span-title">{{ settings.quantity_heading }} :</span>
        <span id="final-qty"></span>
      </div>
      <div class="final-lami">
        <span class="span-title">Pelliculage :</span>
        <span id="final-lami">No</span>
      </div>

       <div class="final-lami">
        <span class="span-title">Livraison estimée dans:</span>
        <span id="final-days"></span>
      </div>
      <div class=" trustpilot-container">
        <div class="content">
          <p class="paragraph"></p>
          <p class="SectionHeader__Heading Heading u-h3"></p>
        </div>
        <a class="trust-anchor" href="https://www.trustpilot.com/review/stickergreen.com">
          <img
            src="https://cdn.shopify.com/s/files/1/0578/4882/3996/files/4.5stars.svg?v=1699264712"
            height="60px"
            width="120px"
            loading="lazy"
            alt="trustpilot reviews"
          >
        </a>
        <p class="trustpilot-review"><b>{{ settings.review_text }}</b></p>
      </div>

      <button
        type="submit"
        name="add"
        class="product-form__submit button button--full-width {% if block.settings.show_dynamic_checkout and product.selling_plan_groups == empty %}button--secondary{% else %}button--primary{% endif %}"
      >
        <span>
          {%- if product.selected_or_first_available_variant.available -%}
            {{ 'products.product.add_to_cart' | t }}
          {%- else -%}
            {{ 'products.product.sold_out' | t }}
          {%- endif -%}
        </span>
        <div class="loading-overlay__spinner hidden">
          <svg
            aria-hidden="true"
            focusable="false"
            role="presentation"
            class="spinner"
            viewBox="0 0 66 66"
            xmlns="http://www.w3.org/2000/svg"
          >
            <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
          </svg>
        </div>
      </button>
    </div>
  </div>
</div>

<script type="text/javascript">
  {% if product.metafields.custom.calculator_json.value != blank %}
  const data = {{ product.metafields.custom.calculator_json.value | json }};
  {% endif %}
</script>

<script src="{{ 'calculators.js' | asset_url }}" defer></script>
